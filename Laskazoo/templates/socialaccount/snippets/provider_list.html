{% load static %}

<div class="google-signin-popup">
    <div class="popup-header">
        <img src="https://www.google.com/images/branding/googleg/1x/googleg_standard_color_128dp.png" alt="Google" class="google-logo">
        <h3>Виберіть обліковий запис</h3>
        <p>для продовження на Laskazoo</p>
    </div>

    <div class="accounts-list">
        {% for account in sociallogin_list %}
        <a href="#" class="account-item" onclick="document.getElementById('google-form-{{ forloop.counter }}').submit(); return false;">
            {% if account.get_avatar_url %}
            <img src="{{ account.get_avatar_url }}" alt="{{ account }}" class="account-avatar">
            {% else %}
            <div class="account-avatar-placeholder">
                {{ account.user.email|first|upper }}
            </div>
            {% endif %}
            <div class="account-info">
                <div class="account-name">{{ account }}</div>
                <div class="account-email">{{ account.user.email }}</div>
            </div>
        </a>
        <form id="google-form-{{ forloop.counter }}" method="post" action="{% url 'socialaccount_login' %}" style="display: none;">
            {% csrf_token %}
            <input type="hidden" name="process" value="login">
        </form>
        {% endfor %}
    </div>

    <div class="popup-footer">
        <a href="{% provider_login_url 'google' %}" class="use-another-account">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
            </svg>
            Використати інший обліковий запис
        </a>
    </div>
</div>

<style>
.google-signin-popup {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    max-width: 450px;
    width: 100%;
    margin: 0 auto;
}

.popup-header {
    text-align: center;
    padding: 24px 40px;
    border-bottom: 1px solid #e0e0e0;
}

.google-logo {
    width: 48px;
    height: 48px;
    margin-bottom: 16px;
}

.popup-header h3 {
    font-size: 24px;
    font-weight: 400;
    color: #202124;
    margin: 0 0 4px 0;
}

.popup-header p {
    font-size: 16px;
    color: #5f6368;
    margin: 0;
}

.accounts-list {
    padding: 0;
}

.account-item {
    display: flex;
    align-items: center;
    padding: 16px 24px;
    text-decoration: none;
    color: #202124;
    border-bottom: 1px solid #e0e0e0;
    transition: background 0.2s;
}

.account-item:hover {
    background: #f8f9fa;
}

.account-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 16px;
}

.account-avatar-placeholder {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: #1a73e8;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    font-weight: 500;
    margin-right: 16px;
}

.account-info {
    flex: 1;
}

.account-name {
    font-size: 14px;
    font-weight: 500;
    color: #202124;
    margin-bottom: 2px;
}

.account-email {
    font-size: 14px;
    color: #5f6368;
}

.popup-footer {
    padding: 16px 24px;
}

.use-another-account {
    display: flex;
    align-items: center;
    gap: 12px;
    color: #1a73e8;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
}

.use-another-account:hover {
    text-decoration: underline;
}
</style>
