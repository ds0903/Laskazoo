{% load static %}
{% include 'zoosvit/users/modal.html' with form=form %}
<script src="{% static 'zoosvit/js/login_modal.js' %}"></script>
<header class="site-header">
    <div class="site-topbar">
      <div class="container topbar-inner">
        <nav class="topbar-nav">
          <a href="#stores">–ú–∞–≥–∞–∑–∏–Ω–∏ Zoosvit</a>
          <a href="#about">–ü—Ä–æ –Ω–∞—Å</a>
          <a href="#payment">–û–ø–ª–∞—Ç–∞ —Ç–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</a>
          <a href="#exchange">–û–±–º—ñ–Ω —Ç–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è</a>
          <a href="#help">–î–æ–ø–æ–º–æ–≥–∞</a>
          <a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
        </nav>
      </div>
    </div>
    <div class="site-mainheader">
      <div class="container header-inner">
        <a href="/" class="logo">–ó–æ–æ—Å–≤—ñ—Ç</a>
        <form class="search-form">
          <input type="text" placeholder="–ø–æ—à—É–∫ —Ç–æ–≤–∞—Ä—ñ–≤">
          <button type="submit">üîç</button>
        </form>
        <div class="icon-btn phone-btn">
  <img src="{% static 'zoosvit/img/header_icons/phone-icon.png' %}" alt="–¢–µ–ª–µ—Ñ–æ–Ω">
  <div class="phone-dropdown">
    <div class="dropdown-title">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤</div>
    <div class="dropdown-contact">
      <img src="{% static 'zoosvit/img/header_icons/telagram-icon.png' %}" alt="Telegram">
      <a href="https://t.me/your_username">(067) 900 1022</a>
      <small>(Telegram)</small>
    </div>
    <div class="dropdown-schedule">
      <strong>–ì—Ä–∞—Ñ—ñ–∫ —Ä–æ–±–æ—Ç–∏:</strong> –ü–Ω‚Äì–ù–¥ 9:00‚Äì18:00
    </div>
    <div class="dropdown-chats">
      <a href="viber://chat?number=+380679001022">
        <img src="{% static 'zoosvit/img/header_icons/viber-icon.png' %}" alt="Viber">
      </a>
      <a href="https://t.me/your_username">
        <img src="{% static 'zoosvit/img/header_icons/telagram-icon.png' %}" alt="Telegram">
      </a>
      <a href="https://t.me/your_username"><img src="{% static 'zoosvit/img/header_icons/instagram-icon.png' %}" alt="INST"></a>
    </div>
  </div>
</div>
        <div class="header-actions">
          <a href="{% url 'products:subcategory_list' 'cats' %}"    class="icon-btn fav"      aria-label="–£–ª—é–±–ª–µ–Ω—ñ">

          <img src="{% static 'zoosvit/img/header_icons/heart-icon.png' %}"    alt="Favorites">
        </a>
        <a href="#cart"    class="btn-cart"          aria-label="–ú—ñ–π –∫–æ—à–∏–∫">
          <img src="{% static 'zoosvit/img/header_icons/cart-icon.png' %}"    alt="Cart">
          <span class="cart-count">0</span>
          <span class="cart-text">–ú—ñ–π –∫–æ—à–∏–∫</span>
        </a>
          {% if user.is_authenticated %}
            <div class="icon-btn login-btn">
              <img src="{% static 'zoosvit/img/header_icons/profile-icon.png' %}" alt="User">
              <div class="login-dropdown">
                <div class="dropdown-title">–í—ñ—Ç–∞—î–º–æ, {{ user.username }}!</div>
                <div class="dropdown-chats">
                  <a href="{% url 'users:profile'      %}" class="dropdown-link">–û—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ</a>
                  <a href="{% url 'users:logout'       %}" class="dropdown-link">–í–∏–π—Ç–∏</a>
                </div>
              </div>
            </div>
          {% else %}
  <div class="icon-btn login-btn">
    <img src="{% static 'zoosvit/img/header_icons/profile-icon.png' %}" alt="User">
    <div class="login-dropdown">
      <div class="dropdown-title">–í—Ö—ñ–¥ / –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</div>
      <div class="dropdown-chats">
        <a href="#" class="dropdown-link" id="open-login-modal">–£–≤—ñ–π—Ç–∏</a>
        <a href="#" class="dropdown-link" id="open-register-modal">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—å</a>
      </div>
    </div>
  </div>
{% endif %}

      </div>
    </div>
    <div class="site-bottombar">
      <div class="container topbar-inner">
        <nav class="topbar-nav">
          <a href="{% url 'products:subcategory_list' 'super-vigodniye-propozicii' %}" >–°—É–ø–µ—Ä –≤–∏–≥—ñ–¥–Ω—ñ-–ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</a>
          <a href="{% url 'products:subcategory_list' 'shares' %}">–ê–∫—Ü—ñ—ó</a>
          <a href="{% url 'products:subcategory_list' 'dogs' %}">–°–æ–±–∞–∫–∏</a>
          <a href="{% url 'products:subcategory_list' 'cats' %}">–ö–æ—Ç–∏</a>
          <a href="{% url 'products:subcategory_list' 'birds' %}">–ü—Ç–∞—Ö–∏</a>
          <a href="{% url 'products:subcategory_list' 'rodents' %}">–ì—Ä–∏–∑—É–Ω–∏</a>
          <a href="{% url 'products:subcategory_list' 'aquarium' %}">–ê–∫–≤–∞—Ä—ñ—É–º</a>
          <a href="{% url 'products:subcategory_list' 'terrarium' %}">–¢–µ—Ä–∞—Ä—ñ—É–º</a>
          <a href="{% url 'products:subcategory_list' 'brands' %}">–ë—Ä–µ–Ω–¥–∏</a>
        </nav>
      </div>
    </div>
  </header>
<script>
document.addEventListener('DOMContentLoaded', () => {
  initPhoneDropdown();
  initLoginDropdown();
});

/**
 * –¢–µ–ª–µ—Ñ–æ–Ω–Ω–∏–π –¥—Ä–æ–ø–¥–∞—É–Ω
 */
function initPhoneDropdown() {
  const btn      = document.querySelector('.phone-btn');
  const dropdown = document.querySelector('.phone-dropdown');
  if (!btn || !dropdown) return;

  let hideTimer;
  const open = () => {
    clearTimeout(hideTimer);
    dropdown.classList.add('show');
  };
  const close = () => {
    hideTimer = setTimeout(() => dropdown.classList.remove('show'), 300);
  };

  btn.addEventListener('mouseenter', open);
  btn.addEventListener('mouseleave', close);
  dropdown.addEventListener('mouseenter', open);
  dropdown.addEventListener('mouseleave', close);
}

/**
 * –î—Ä–æ–ø–¥–∞—É–Ω ¬´–í—Ö—ñ–¥/–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è¬ª
 */
function initLoginDropdown() {
  const btn      = document.querySelector('.login-btn');
  const dropdown = document.querySelector('.login-dropdown');
  if (!btn || !dropdown) return;

  let hideTimer;
  const open = () => {
    clearTimeout(hideTimer);
    dropdown.classList.add('show');
  };
  const close = () => {
    hideTimer = setTimeout(() => dropdown.classList.remove('show'), 300);
  };

  btn.addEventListener('mouseenter', open);
  btn.addEventListener('mouseleave', close);
  dropdown.addEventListener('mouseenter', open);
  dropdown.addEventListener('mouseleave', close);
}
</script>

